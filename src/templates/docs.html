{% extends "MiloBase/base.html" %}

{% block title %}Documentación - InfoMilo{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row">
        <div class="col-lg-8 mx-auto">
            <div class="text-center mb-5">
                <h1 class="display-4 text-primary">Documentación</h1>
                <p class="lead text-muted">Guía completa para usar InfoMilo</p>
            </div>

            <!-- Getting Started -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0">
                        <i class="fas fa-rocket me-2"></i>Comenzando
                    </h5>
                </div>
                <div class="card-body">
                    <p>InfoMilo es una aplicación web flexible diseñada para trabajo remoto que se puede usar desde casa
                        u oficina.</p>
                    <ul>
                        <li>Sistema de autenticación completo con roles de usuario</li>
                        <li>Configuración automática para diferentes entornos</li>
                        <li>Scripts automatizados para cambio de entorno</li>
                        <li>Auditoría de seguridad y control de acceso</li>
                    </ul>
                </div>
            </div>

            <!-- Authentication -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0">
                        <i class="fas fa-shield-alt me-2"></i>Autenticación
                    </h5>
                </div>
                <div class="card-body">
                    <h6>Características de Seguridad:</h6>
                    <ul>
                        <li><strong>Roles de Usuario:</strong> Admin y User con permisos diferenciados</li>
                        <li><strong>Login por Email:</strong> Autenticación basada en email</li>
                        <li><strong>Contraseñas Seguras:</strong> Hash con bcrypt y validación de fortaleza</li>
                        <li><strong>2FA Opcional:</strong> Autenticación de dos factores con TOTP</li>
                        <li><strong>Recuperación por Email:</strong> Reset de contraseña vía Gmail SMTP</li>
                        <li><strong>Control de Intentos:</strong> Bloqueo automático tras intentos fallidos</li>
                        <li><strong>Auditoría:</strong> Log de eventos con IP, ubicación y navegador</li>
                    </ul>
                </div>
            </div>

            <!-- Environment Management -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0">
                        <i class="fas fa-cog me-2"></i>Gestión de Entornos
                    </h5>
                </div>
                <div class="card-body">
                    <h6>Configuraciones Disponibles:</h6>
                    <ul>
                        <li><strong>Home:</strong> Configuración para trabajo desde casa</li>
                        <li><strong>Office:</strong> Configuración para trabajo en oficina</li>
                        <li><strong>Default:</strong> Configuración por defecto</li>
                    </ul>

                    <h6 class="mt-3">Scripts Automáticos:</h6>
                    <ul>
                        <li><code>work-manager.ps1</code> - Gestor interactivo de trabajo</li>
                        <li><code>start-work-home.ps1</code> - Iniciar trabajo en casa</li>
                        <li><code>start-work-office.ps1</code> - Iniciar trabajo en oficina</li>
                        <li><code>switch-env.ps1</code> - Cambiar configuración</li>
                    </ul>
                </div>
            </div>

            <!-- API Endpoints -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0">
                        <i class="fas fa-code me-2"></i>API Endpoints
                    </h5>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-sm">
                            <thead>
                                <tr>
                                    <th>Endpoint</th>
                                    <th>Método</th>
                                    <th>Descripción</th>
                                    <th>Auth</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>/api/status</code></td>
                                    <td>GET</td>
                                    <td>Estado del sistema</td>
                                    <td>No</td>
                                </tr>
                                <tr>
                                    <td><code>/api/config</code></td>
                                    <td>GET</td>
                                    <td>Configuración activa</td>
                                    <td>Sí</td>
                                </tr>
                                <tr>
                                    <td><code>/api/switch-env</code></td>
                                    <td>POST</td>
                                    <td>Cambiar entorno</td>
                                    <td>Admin</td>
                                </tr>
                                <tr>
                                    <td><code>/auth/*</code></td>
                                    <td>GET/POST</td>
                                    <td>Rutas de autenticación</td>
                                    <td>Varía</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Tech Stack -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0">
                        <i class="fas fa-layer-group me-2"></i>Stack Tecnológico
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Backend:</h6>
                            <ul>
                                <li>Python 3.11+</li>
                                <li>Flask</li>
                                <li>SQLAlchemy</li>
                                <li>Flask-Login</li>
                                <li>Flask-Mail</li>
                                <li>BCrypt</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>Frontend:</h6>
                            <ul>
                                <li>HTML5, CSS3</li>
                                <li>Bootstrap 5</li>
                                <li>JavaScript (Vanilla)</li>
                                <li>Font Awesome</li>
                                <li>Jinja2 Templates</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Support -->
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">
                        <i class="fas fa-question-circle me-2"></i>Soporte
                    </h5>
                </div>
                <div class="card-body">
                    <p>Para soporte técnico o consultas:</p>
                    <ul>
                        <li>Revisa los logs en la carpeta <code>logs/</code></li>
                        <li>Consulta la documentación en <code>docs/</code></li>
                        <li>Verifica la configuración en <code>config/</code></li>
                    </ul>

                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        <strong>Tip:</strong> Usa el comando <code>work-manager.ps1</code> para una gestión fácil del
                        entorno de trabajo.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .card {
        box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        border: 1px solid rgba(0, 0, 0, 0.125);
        margin-bottom: 1.5rem;
    }

    .card-header {
        background-color: #f8f9fa;
        border-bottom: 1px solid rgba(0, 0, 0, 0.125);
    }

    code {
        background-color: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 0.25rem;
        color: #e83e8c;
        padding: 0.125rem 0.25rem;
    }

    .table th,
    .table td {
        border-top: 1px solid #dee2e6;
    }

    .alert {
        border-radius: 0.375rem;
    }
</style>
{% endblock %}
